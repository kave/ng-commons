angular.module("ng-commons.input",[]).directive("ngcInput",function(){return{restrict:"A",require:"^form",replace:!1,transclude:!0,scope:{label:"@",requiredMsg:"@",validationMsg:"@"},link:function(a,b,c,d){var e=b.find(b.find("input")?"input":"select");e.addClass("form-control");var f=e.attr("id");a.showLabel=void 0!==c.label,a.forAttr=f;var g=e.attr("name"),h=[d.$name,g,"$invalid"].join("."),i=[d.$name,"submitted"].join(".");a.$parent.$watch(i,function(b){a.showErrors=b}),a.$parent.$watch(h,function(b){a.isError=b});var j=[d.$name,g,"$error","required"].join(".");a.$parent.$watch(j,function(b){a.isRequiredError=b})},templateUrl:"input/input.tpl.html"}}),angular.module("ng-commons.loading",[]).directive("ngcLoading",["$modal",function(a){return{scope:{image:"@"},link:function(b,c,d){var e=function(){};b.$watch("loadingView",function(c){c===!1&&b.modalInstance?b.modalInstance.close():c===!0&&(b.modalInstance=a.open({template:d.image,controller:e,windowClass:"loading",backdrop:"static",keyboard:!0}))})}}}]),angular.module("ng-commons.navbar",[]).directive("ngcNavbar",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{brand:"@",brandImg:"@"},link:function(a,b){a.$parent.$on("$routeChangeSuccess",function(){var a=0===b[0].querySelectorAll("div.in").length?!1:!0;if(a){var c=b[0].querySelectorAll("div.navbar-header > button");c[0].click()}})},templateUrl:"navbar/navbar.tpl.html"}}),angular.module("ng-commons.navbarLink",[]).directive("ngcNavbarLink",["$location",function(a){return{restrict:"E",replace:!0,scope:{linkClass:"@",label:"@",href:"@",show:"&",click:"&"},link:function(b,c,d){b.isAction=null!=d.click,b.$parent.$on("$routeChangeSuccess",function(){if(b.href){var e=b.href.substring(1);b.active=a.path()===e}b.click&&c.bind("click",function(){b.$apply(d.click)})})},templateUrl:"navbarLink/navbarLink.tpl.html"}}]),angular.module("ng-commons",["ui.bootstrap","ng-commons.resources","ng-commons.User","ng-commons-tpls","ng-commons.input","ng-commons.navbar","ng-commons.navbarLink","ng-commons.loading"]),angular.module("ng-commons.resources",[]).provider("api",function(){return{$get:["$resource",function(a){var b={defaultConfig:{id:"@id"},add:function(c){var d,e;if(angular.isString(c)){var f={resource:c,url:"/api/"+c};c=f}if(c.unnatural)d=c.params,e=c.url;else{var g=angular.copy(b.defaultConfig);d=angular.extend(g,c.params),e=c.url+"/:id"}var h=c.methods||b.extraMethods;b[c.resource]=a(e,d,h)}};return b}]}}).provider("data",function(){return{$get:["$rootScope","api",function(a,b){var c=function(b){b&&0!==b.length&&(a.alerts||(a.alerts=[]),a.alerts=a.alerts.concat(b))},d=function(){a.loadingView=!0},e=function(){a.loadingView=!1},f=function(a){return a.then(function(a){e(),c(a.alerts)},function(a){e(),c(a.alerts)}),a},g={query:function(a,c){d();var e=b[a].query(c).$promise;return f(e)},get:function(a,c){d();var e=b[a].get(c).$promise;return f(e)},save:function(a,c){d();var e=b[a].save(c).$promise;return f(e)},update:function(a,c){d();var e=b[a].update(c).$promise;return f(e)},remove:function(a,c){d();var e=b[a].remove(a,c).$promise;return f(e)}};return g}]}}),angular.module("ng-commons.User",[]).provider("User",function(){return{$get:["$resource","$http","$location","$rootScope","$q","authenticationUrl","apiUrl",function(a,b,c,d,e,f,g){return{initialized:!1,loggedIn:!1,username:"",firstName:"",lastName:"",password:"",roles:[],reset:function(){this.initialized=!1,this.loggedIn=!1,this.username="",this.firstName="",this.lastName="",this.password="",this.roles=[]},isInitialized:function(){return this.initialized},isLoggedIn:function(){return this.loggedIn},hasRole:function(a){return this.roles.indexOf(a)>-1},initialize:function(){var b=e.defer(),c=this,d=a(g+"api/user/secure/currentUser");return d.get({},function(a){a.username?(c.username=a.username,c.firstName=a.firstName,c.lastName=a.lastName,c.roles=a.roles,c.initialized=!0,c.loggedIn=!0):c.loggedIn=!1,b.resolve(c)}),b.promise},login:function(a){var d=this,e="j_username="+this.username+"&j_password="+this.password,g={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};b.post(f+"j_spring_security_check",e,g).success(function(){d.password="",d.loggedIn=!0,c.path(a)}).error(function(){d.reset()})},logout:function(a){this.reset(),b.get(f+"j_spring_security_logout").success(function(){c.path(a)})}}}]}}),angular.module("ng-commons-tpls",["input/input.tpl.html","navbar/navbar.tpl.html","navbarLink/navbarLink.tpl.html"]),angular.module("input/input.tpl.html",[]).run(["$templateCache",function(a){a.put("input/input.tpl.html",'<div class="form-group" ng-class="{\'has-error\':isError && showErrors}">\n    <label ng-show="showLabel" class="control-label" for="{{for}}">{{label}}</label>\n    <div ng-show="showErrors">\n        <div ng-show="isRequiredError">{{requiredMsg}}</div>\n        <div ng-show="isError">{{validationMsg}}</div>\n    </div>\n    <div ng-transclude></div>\n</div>')}]),angular.module("navbar/navbar.tpl.html",[]).run(["$templateCache",function(a){a.put("navbar/navbar.tpl.html",'<nav class="navbar navbar-default" role="navigation">\n	<div class="container-fluid">\n		<div class="navbar-header">\n			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">\n				<span class="sr-only">Toggle navigation</span>\n				<span class="icon-bar"></span>\n				<span class="icon-bar"></span>\n				<span class="icon-bar"></span>\n			</button>\n			<a class="navbar-brand" ng-href="#/">\n				<img ng-src="{{brandImg}}"\n					 class="img-rounded img-responsive">\n				{{brand}}\n			</a>\n		</div>\n		<div class="collapse navbar-collapse navbar-ex1-collapse">\n			<ul class="nav navbar-nav navbar-right" ng-transclude>\n			</ul>\n		</div>\n	</div>\n</nav>\n')}]),angular.module("navbarLink/navbarLink.tpl.html",[]).run(["$templateCache",function(a){a.put("navbarLink/navbarLink.tpl.html",'<li ng-show="show()" ng-class="{\'active\': active}">\n	<div>\n		<a ng-if="!isAction" ng-class="linkClass" ng-href="{{href}}">{{label}}</a>\n		<a ng-if="isAction" ng-class="linkClass" href="#" ng-click="click()">{{label}}</a>\n	</div>\n</li>\n')}]);